#информатика #программирование 
## Что такое память

Память - это компонент компьютера, способный хранить в себе различную информацию

Информацией может быть что угодно, но в конечном счёте всё это преставляет из себя двоичное число в памяти компьютера

## Классификация памяти

Классификация памяти (от самой малоразмерной и быстрой, до большой и медленной):
1. Регистры процессора
	Маленькие ячейки памяти, которые находятся на самом процессоре. Они нужны для того, чтобы сохранять результат выполненных программ, инструкции Подробнее:
2. Кэш-память
	Кэш состоит из нескольких уровней. Процессор кэширует данные, потому что ему быстрее брать его из кэша, нежели постоянно обращаться к оперативной памяти.
3. **Оперативная память**
	 Именно о ней пойдет речь дальше. Та память, которая используется для выполнения программы в реальном времени. Программистов больше всего интересует именно эта память и её взаимодействие с процессором
4. Внешние накопители
	Устройства для хранения и накопления информации, которые хранят информацию бесконечное количество времени

**Быстрота памяти выражается через время доступа процессора к памяти**

## Оперативная память. Бит. Байт

 >Оперативная память представляет собой *большой набор ячеек*

 *Бит - минимальная единица хранения информации*

Байт - это минимальная ячейка адресации.
	Процессор не может обращаться к отдельному биту, поэтому он обращается к байту, ячейке (октете) по 8 бит

### О boolean

>Именно поэтому тип boolean занимается 1 байт памяти, несмотря на то, что фактически он занимает 1 бит.

Можно использовать структуру "битовый вектор" для того, чтобы в 1 байт помещалось 8 boolean значений, но это исключительные случаи

## Ячейка памяти

![[Pasted image 20230927112233.png]]

*Ячейка с индексом 0* - младший разряд
*Ячейка с индексом 7* - старший разряд
*0x01* - адрес ячейки в памяти

## Виды адресации

#### Байтовая адресация
Когда каждый байт имеет свой адреса
#### Словесная адресация

Используется, где размер одной ячейки памяти равен одному машинному слову процессора. 

Машинное слово процессора равно его битности, т.е. если процессор 32-битный, то машинное слово будет равняться 32 битам и т.д.

>Такая концепция в адресации памяти используется для работы с большими числами, а также в различных, научных целях


## Почему ячейки 8-разрядные. Хранение строк

Изначально, количество бит в байте могло быть каким-угодно. Основная причина связана с тем, что в большинстве времени человек работает с текстовой информацией. Таким образом текст - основной вид информации и именно с ним в большинстве времени нужно взаимодействовать процессору

В Америке появились таблицы кодирования символов, в которой каждому символу соответствовал машинный код. Идея была в том, чтобы в каждую ячейку помещался ровно 1 символ. На тот момент мало учитывались потребности в символах других языков, поэтому в первых стандартах было всего __54 символа__, которые умещались в __6 бит__

Затем, в ходе проектирования компьютера оказалось, что *лучше использовать 8 бит*, т.к. оставалось место для других символов.
Стандарт нужно было расширять и таким образом, основным стандартом стал __ASCII__.
Каждый его символ занимал 7 бит и таким образом он включал в себя от 0 до 127 символов

![[Pasted image 20230927130004.png]]

Так выглядит хранение ASCII символов в памяти. В старший бит добавляется 0 и далее записывается само число, соответствующее таблице


## Почему байтовая адресация быстрее

#### При байтовой адресации
Мы можем получить адрес байта и работать с конкретным символом строки
(заменить, удалить).

#### При словесной адресации
Мы работает со словом целиком, и получается, что в регистр процессора должен был бы взять себе в память всё слово целиком и побитово искать символ в строке, отбрасывать лишний бит и т.д.. 

Это же касается и опкодов. Постоянное отбрасывание лишних нулей будет медленнее, чем чтение дополнительных ячеек памяти

Для работы со стороками лучше подходит байтовая адресация, а для работы с числами - словесная

## Размер ОЗУ

Во-первых, размер памяти должен быть кратен размерам ячеек, то есть 8 бит.

Во-вторых, адреса, по которым процессор обращается к памяти представляют собой числа. Эти адреса задаются в регистре. Максимальное количество значений, который может хранить в себе регистр равен: 
## $2^{размер-регистра}$ 

То есть регистр на: 
8 бит = $2^8$
10 бит = $2^{10}$ 
32 бита = $2^{32}$ 

Эти числа представляют собой максимальное количество адресов оперативной памяти, к которой можно адресовать.
Если представить эти числа в 10чной системе счисления, то мы получим те самые размеры оперативной памяти:

$2^8 = 256$ байт 
$2^{10} = 1024$ байт
$2^{32} = 4294967296$ байт = $4096mb = 4gb$

Например, в 32-х битных системах в регистр помещается 4 GB адресов, поэтому даже если у вас компьютер, в котором установлена оперативная память размером 16 GB, то процессор сможет использовать 4 GB, потому что дальше он просто не дотянется

## Порядок хранения байтов

Существует два способа хранения данных в памяти:

#### Big endian (прямой порядок)
В данном способе расположение идет слева направо, но такой порядок почти нигде не используется.
#### Little endian (обратный порядок)
В данном способе расположение идет справа налево. Такой порядок применяется в большинстве компьютеров

__Порядок меняют только сами байты. Биты остаются точно в таком же порядке__

Основная проблема двух способов возникает, когда мы хотим передать информацию с одного компьютера на другой.
Например, когда мы хотим передать текст с одного компьютера на другой, который расположен в прямом порядке, а другой компьютер принимает в обратном. Получается очень большая путаница. Подробнее: 

## Выравнивание

Другой момент с хранением данных связан с их выравниваем по естественным границам.

Если машинные слова будут располагаться по хаотичным адресам, то не все модели процессоров смогут обращаться к таким данным, либо обращение к данным будет очень длительным процессом

Поэтому, чтобы память работала максимально эффективно, было принято решение выравнивать слова по их естественным границам.

Например возьмем __16-ти__ битный процессор. Размер его машинного слова будет равен __2 байта__, поэтому оно должно быть выровнено по адресу кратному __двум.__

## Числовые типы данных

Помимо строк в каждом языке есть числовые типы данных.

| Название | Размер |
| --- | --- |
| byte | 1 байт |
| short | 2 байта |
| int | 4 байта |
| long | 8 байт |

В зависимости от языка они могут отличаться, но все они определяют количество места, которое будет выделено и  вследствие диапазон значений
